<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Group 14 Visualisation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Import Mapbox GL JS -->
    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js"></script>
    <link rel="stylesheet" href="styles.css" />

    <!-- Import moment.js -->
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>

    <!-- Import Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>

    <!-- Import turf.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/6.5.0/turf.min.js"></script>

    <!-- Import font-awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <!-- Import jsdelivr -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/deck.gl@8.8.19/dist.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@deck.gl/mapbox@8.8.19/dist.min.js"></script>
  </head>

  <body>
    <!-- 导航栏 -->
    <nav class="navbar">
      <a href="#section-title" class="section-title"
        >China's Belt and Road Initiative</a
      >
      <a href="#section-cover">Home</a>
      <a href="#section-intro">Introduction</a>
      <a href="#section-globe">Globe Map</a>
      <a href="#section-map">CR Express</a>
      <a href="#section-maritime">Maritime</a>
      <a href="#section-con">Conclusion</a>
      <a href="#section-ref">References</a>
    </nav>

    <!-- 封面章节 -->
    <section id="section-cover" class="section cover">
      <h1>China's Belt and Road Initiative:</h1>
      <h1>Reshaping the Urban Network Across Eurasia</h1>
      <p>2025 CASA0003 Group Visualisation</p>
      <a href="#section-intro" class="scroll-arrow">
        <i class="fa-solid fa-chevron-down"></i>
      </a>
    </section>

    <!-- 介绍章节 -->
    <section id="section-intro" class="section">
      <div class="intro-box">
        <p class="intro-top-text">
          The Belt and Road Initiative (BRI), unveiled in 2013, takes its name
          from two historic trade routes: the overland “Silk Road Economic Belt”
          and the maritime “21st-Century Maritime Silk Road,” together aiming to
          revive and expand the ancient Silk Road network.
        </p>
        <div class="image-row">
          <div class="image-item">
            <img src="pic/intro_1.jpg" alt="Image 1 description" />
            <p class="caption">
              On May 25, 2024, the X8157 China-Europe freight train departed
              from Xi'an International Port Station and headed for Malaszewicze,
              Poland.
            </p>
          </div>
          <div class="image-item">
            <img src="pic/intro_2.jpg" alt="Image 2 description" />
            <p class="caption">
              A cargo ship from China's Taicang Port arrives at Peru's giant
              deepwater port of Chancay
            </p>
          </div>
        </div>
        <p class="intro-bottom-text">
          2023 marks the 10th anniversary of the Belt and Road Initiative (BRI),
          which has seen over 150 countries and 30 international organizations
          join and sign more than 200 cooperation documents. Spanning Asia,
          Europe, Africa, and beyond, the BRI drives infrastructure development
          in railways, highways, ports, energy pipelines, and digital networks
          across its member nations.
        </p>
      </div>
    </section>

    <!-- 地图1章节 -->
    <section id="section-globe" class="section">
      <div id="map_1"></div>
      <div class="map1-box">
        <p>
          China’s Belt and Road Initiative burst onto the world stage in October
          2013 in Astana and Jakarta to unveil an overland “Silk Road Economic
          Belt” and a “21st-Century Maritime Silk Road.” Its inaugural
          memorandum with Kazakhstan set the pace, quickly followed by a pact in
          Indonesia. Within a year, scores of nations across Asia, Europe and
          Africa rallied behind BRI’s vision, pledging to modernize railways,
          power grids and digital networks.
        </p>
        <p>
          By 2014, the newly formed Asian Infrastructure Investment Bank—born of
          BRI ambition—welcomed 21 founding members, from India to Italy. Today,
          the BRI spans hundreds of ventures worth over \$800 billion, weaving a
          vibrant tapestry of trade routes and forging fresh bonds across
          continents.
        </p>
      </div>
    </section>

    <!-- 地图2章节 -->
    <section id="section-map" class="section">
      <!-- 地图容器 -->
      <div id="map_2">
        <!-- 信息弹窗-->
        <div id="infoPanel" class="info-panel">
          <h3 id="infoTitle"></h3>
          <p id="infoText"></p>
          <canvas id="infoChart"></canvas>
        </div>

        <!-- 侧边栏 -->
        <div id="MainSidebar">
          <!-- 按钮区域 -->
          <div class="sidebar-buttons">
            <button id="btnPage1" class="sidebar-toggle">Channel</button>
            <button id="btnPage2" class="sidebar-toggle">Wordcloud</button>
          </div>
          <!-- 页面 1 -->
          <div class="sidebar-page" id="page1">
            <h2>China Railway Express</h2>
            <p class="sidebar-text">
              China Railway Express (abbreviated CR Express) is operated by
              China State Railway Group Co., Ltd. as a scheduled, fixed-route,
              containerized rail service between China and Europe, as well as
              countries along the Belt and Road Initiative. Running on
              established timetables and dedicated freight corridors, CR Express
              has become a vital logistics channel for deepening trade ties and
              fostering economic cooperation between China and its partner
              nations.
            </p>
            <p class="sidebar-text">
              Spanning the Eurasian landmass—which accounts for roughly 75
              percent of the world’s population and about 60 percent of global
              GDP—CR Express strategically bridges three major economic zones.
              To the east lies the dynamic East Asian economic cluster; to the
              west, the mature European market; and between them, vast inland
              regions rich in natural resources and untapped growth potential.
              With diverse resource endowments and strong economic
              complementarities, countries along the Belt and Road corridor
              stand to benefit enormously from enhanced rail connectivity and
              integrated supply chains.
            </p>
            <div class="chart-section">
              <canvas id="trainChart"></canvas>
            </div>
          </div>
          <!-- 页面 2 -->
          <div class="sidebar-page" id="page2" style="display: none">
            <h2>Wordcloud</h2>
            <!-- 词云 -->
            <div id="wordcloud"></div>
          </div>
          <!-- 页面切换按钮 -->
          <!-- 按钮组 -->
          <div id="lineSelection">
            <div class="line-buttons">
              <button class="line-button" data-line="west_continuous">
                West Channel
              </button>
              <button class="line-button" data-line="middle_continuous">
                Middle Channel
              </button>
              <button class="line-button" data-line="east_continuous">
                East Channel
              </button>
            </div>
          </div>

          <!-- 切换逻辑脚本 -->
          <script>
            // 获取节点
            const page1 = document.getElementById("page1");
            const page2 = document.getElementById("page2");
            const btn1 = document.getElementById("btnPage1");
            const btn2 = document.getElementById("btnPage2");

            // 切换显示函数
            function showPage(n) {
              if (n === 1) {
                page1.style.display = "block";
                page2.style.display = "none";
                btn1.classList.add("active");
                btn2.classList.remove("active");
              } else {
                page1.style.display = "none";
                page2.style.display = "block";
                btn1.classList.remove("active");
                btn2.classList.add("active");
              }
            }

            // 默认加载第一页
            document.addEventListener("DOMContentLoaded", () => {
              showPage(1);
              // 绑定点击
              btn1.addEventListener("click", () => showPage(1));
              btn2.addEventListener("click", () => showPage(2));
            });
          </script>
        </div>
      </div>
    </section>

    <!-- 地图3章节 -->
    <section id="section-maritime" class="section">
      <div id="map_3">
        <div id="timeline">
          Year:
          <input
            type="range"
            id="yearSlider"
            min="2013"
            max="2023"
            value="2023"
            step="1"
          />
          <span id="yearValue">2023</span>
          <button id="playButton">▶️</button>
        </div>
        <div class="controls">
          Fly to:
          <button onclick="flyTo([100, 20])">Asia</button>
          <button onclick="flyTo([30, 10])">Africa</button>
          <button onclick="flyTo([10, 50])">Europe</button>
        </div>
      </div>
    </section>

    <!-- 总结页章节 -->
    <section id="section-con" class="section">
      <!-- 折线图、图表分析等 -->
    </section>

    <!-- 引用页章节 -->
    <section id="section-ref" class="section">
      <div class="ref-box">
        <h2>References</h2>
        <p class="ref-text">
          Guo, J. and Thanathawee, C. (2019) ‘The Factors Influencing the
          Success of Railway Transportation : A Case Study of China Railway
          Express’, Journal of Supply Chain Management: Research and Practice,
          13(2). Available at:
          https://jscm.au.edu/index.php/jscm/article/view/174 (Accessed: 12 May
          2025).
        </p>
        <p class="ref-text">
          Liu, J., Zhang, Z. and Chen, T. (2024) ‘The impact of China railway
          express on foreign direct investment inflows in Chinese central and
          western cities’, Heliyon, 10(9), p. e30120. doi:
          10.1016/j.heliyon.2024.e30120.
        </p>
        <p class="ref-text">
          Yan, B. et al. (2022) ‘Impact of China Railway Express on Urban
          Exports: Evidence from Prefectural-Level City Economic Data’, Procedia
          Computer Science, 214, pp. 1222–1227. doi:
          10.1016/j.procs.2022.11.299.
        </p>
        <p class="ref-text">
          Yu, Q. et al. (2024) ‘Sustainable Development of the China Railway
          Express under the Belt and Road Initiative: Focusing on Infrastructure
          Reliability and Trade Facilitation’, Sustainability, 16(18), p. 8167.
          doi: 10.3390/su16188167.
        </p>
        <p class="ref-text">
          https://www.investopedia.com/terms/o/one-belt-one-road-obor.asp?utm_source=chatgpt.com
          "How China's One Belt One Road (OBOR) Initiative Works & Its Goals"
        </p>
        <p class="ref-text">
          https://time.com/4776845/china-xi-jinping-belt-road-initiative-obor/?utm_source=chatgpt.com
          "China Says It's Building the New Silk Road. Here Are Five Things to
          Know Ahead of a Key Summit"
        </p>
        <p class="ref-text">
          https://www.newyorker.com/magazine/2018/01/08/a-new-silk-road?utm_source=chatgpt.com
          "A New Silk Road"
        </p>
      </div>
    </section>

    <!-- 脚本引用 -->
    <!-- map1 -->
    <script src="part1/part1_data.js"></script>
    <script src="part1/part1_script.js"></script>

    <!-- map2 -->
    <script src="part2/Initialize.js"></script>
    <script src="part2/main_map.js"></script>
    <script src="part2/addDataSources.js"></script>
    <script src="part2/wordcloud.js"></script>

    <!-- map3 -->
    <script src="part3/part3_script.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const nav = document.querySelector(".navbar");
        const cover = document.getElementById("section-cover");
        const sidebar = document.querySelector("#section-map #MainSidebar");

        // 导航栏 IntersectionObserver
        const io = new IntersectionObserver(
          ([entry]) => {
            if (entry.isIntersecting) nav.classList.remove("visible");
            else nav.classList.add("visible");
          },
          { rootMargin: "-10px 0px 0px 0px", threshold: 0 }
        );
        io.observe(cover);
      });
    </script>

    <!-- ========== Footer 放这里 ========== -->
    <footer class="site-footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>DATA SOURCE</h3>
            <p>https://www.crexpress.cn/en/#/home</p>
          </div>
          <div class="footer-section">
            <h3>CONTACT US</h3>
            <p>Github</p>
            <p>http://xxxxxxxx</p>
          </div>
        </div>
        <div class="copyright">
          <p>&copy; 2025 CASA0003 Group 14</p>
        </div>
      </div>
    </footer>
  </body>
</html>
